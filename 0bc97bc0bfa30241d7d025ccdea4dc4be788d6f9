{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "3eda3869_db4b85e6",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2024-11-15T14:14:57Z",
      "side": 1,
      "message": "We can\u0027t change the path of the f-droid repo to avoid breaking existing users.\n\nNeed another way.",
      "revId": "0bc97bc0bfa30241d7d025ccdea4dc4be788d6f9",
      "serverId": "35266860-6252-469c-a67d-185064479fc0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "1bacb96f_26a625ca",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1000002
      },
      "writtenOn": "2024-11-15T20:14:44Z",
      "side": 1,
      "message": "How so? Is the path only read once and never again? If so, could we migrate them?",
      "parentUuid": "3eda3869_db4b85e6",
      "revId": "0bc97bc0bfa30241d7d025ccdea4dc4be788d6f9",
      "serverId": "35266860-6252-469c-a67d-185064479fc0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "72c90748_564abf28",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2024-11-15T22:01:27Z",
      "side": 1,
      "message": "Yes, F-Droid only reads `additional_repos.xml` on fresh install.\n\nIn theory we could migrate, but I don\u0027t know how complicated that would be.\nIt\u0027d certainly be useful for other situations though, like adding more repos later.\n\n@t@grobox.de thoughts?",
      "parentUuid": "1bacb96f_26a625ca",
      "revId": "0bc97bc0bfa30241d7d025ccdea4dc4be788d6f9",
      "serverId": "35266860-6252-469c-a67d-185064479fc0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "959c0965_09cf80c4",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1000003
      },
      "writtenOn": "2024-11-15T23:12:40Z",
      "side": 1,
      "message": "If this is about changing repo location, we could migrate it by changing the repo url in the index. Then after all users have updated their repo and get it from new location, the old one can be removed. If there\u0027s an issue with having a big repo at old location, it could just be a a stub repo mostly just having the new address.",
      "parentUuid": "72c90748_564abf28",
      "revId": "0bc97bc0bfa30241d7d025ccdea4dc4be788d6f9",
      "serverId": "35266860-6252-469c-a67d-185064479fc0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "2201eb22_4c184714",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2024-11-16T10:37:26Z",
      "side": 1,
      "message": "Old location: `/product/fdroid/repo` - nothing there right now.\nNew location (this patch): `/product/app/fdroid/repo` - has the change in the index too.\n\nHowever, when you upgrade to a build with the new location, you get an error from F-Droid saying it can\u0027t find the repo at the old location.\n\nHow do we handle this for existing users? \n1. Figure out how to keep using old location\n2. Stub repo - I don\u0027t get how\n3. Have F-Droid client handle changes in `additional_repos.xml`\n\nNote that none of this is too urgent given Android.mk support is still present, and likely will be available for the next release too, so we have some time to come up with a migration, or even just make the old location work somehow.",
      "parentUuid": "959c0965_09cf80c4",
      "revId": "0bc97bc0bfa30241d7d025ccdea4dc4be788d6f9",
      "serverId": "35266860-6252-469c-a67d-185064479fc0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "1ad9785d_8bac655a",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1000003
      },
      "writtenOn": "2024-11-18T13:39:53Z",
      "side": 1,
      "message": "The old location would need a stub repo just containing the index pointing to the new location. Then all apps would disappear after the first update. but second update should pick up new location and all apps again. if new repo doesn\u0027t point to old location, the old location should never get touched by the client again. if that\u0027s possible, this would be my preference to run-time merging of `additional_repos.xml`.",
      "parentUuid": "2201eb22_4c184714",
      "revId": "0bc97bc0bfa30241d7d025ccdea4dc4be788d6f9",
      "serverId": "35266860-6252-469c-a67d-185064479fc0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "db6aae8b_09a84988",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2024-11-29T20:52:14Z",
      "side": 1,
      "message": "I\u0027m still not fully understanding this, hence the late reply.\n\nOld location: `/product/fdroid/repo` will get a stub repo that points to `/new/path`. Ok, so it\u0027s basically copying the new index here as well, just the index, and in theory that could be the stub repo.\n\nNew location: `/new/path` will get the actual repo,\n\nI see what you mean about preferring this over merging `additional_repos.xml` - it\u0027s complicated either way. Overall:\n\n1. We\u0027ll have to move away from `Android.mk` eventually. It\u0027s fine today, but better early.\n2. We may need `additional_repos.xml` merging for other things too. Should list those first, though\n3. We can still try to have `Android.bp` place the repo in the same old location and avoid the issue in the first place\n4. Otherwise I guess we\u0027ll try the above mentioned stub repo approach, see how that goes.\n\n\nFor now, not worth directly jumping to 4 without figuring out 2 and then 3 first.",
      "parentUuid": "1ad9785d_8bac655a",
      "revId": "0bc97bc0bfa30241d7d025ccdea4dc4be788d6f9",
      "serverId": "35266860-6252-469c-a67d-185064479fc0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "1bc4441d_65f609f2",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1000002
      },
      "writtenOn": "2024-12-02T23:08:13Z",
      "side": 1,
      "message": "I tried 3, but I couldn\u0027t find any way to make it work. It has tight limitations as to where things can be placed. `Android.mk` has much less limitations in general",
      "parentUuid": "db6aae8b_09a84988",
      "revId": "0bc97bc0bfa30241d7d025ccdea4dc4be788d6f9",
      "serverId": "35266860-6252-469c-a67d-185064479fc0"
    }
  ],
  "submitRequirementResults": [
    {
      "submitRequirement": {
        "name": "Builds",
        "description": {
          "value": "Make sure it builds. A minimum vote is blocking."
        },
        "applicabilityExpression": {},
        "submittabilityExpression": {
          "expressionString": "label:Builds\u003dMAX AND -label:Builds\u003dMIN"
        },
        "overrideExpression": {
          "value": {
            "expressionString": "label:Builds\u003d0 AND (label:Works\u003dMAX OR label:Bypass-Verification\u003dMAX)"
          }
        },
        "allowOverrideInChildProjects": true
      },
      "applicabilityExpressionResult": {},
      "submittabilityExpressionResult": {
        "value": {"expression":{"expressionString":"label:Builds=MAX AND -label:Builds=MIN"},"status":"FAIL","errorMessage":{"value":null},"passingAtoms":[],"failingAtoms":["label:Builds=MAX","label:Builds=MIN"]}
      },
      "overrideExpressionResult": {
        "value": {"expression":{"expressionString":"label:Builds=0 AND (label:Works=MAX OR label:Bypass-Verification=MAX)"},"status":"FAIL","errorMessage":{"value":null},"passingAtoms":["label:Builds=0"],"failingAtoms":["label:Works=MAX","label:Bypass-Verification=MAX"]}
      },
      "patchSetCommitId": "0bc97bc0bfa30241d7d025ccdea4dc4be788d6f9",
      "legacy": {
        "value": false
      },
      "forced": {},
      "hidden": {}
    },
    {
      "submitRequirement": {
        "name": "Code-Review",
        "description": {
          "value": "A maximum vote is required for the \u0027Code-Review\u0027 label. A minimum vote is blocking."
        },
        "applicabilityExpression": {},
        "submittabilityExpression": {
          "expressionString": "label:Code-Review\u003dMAX AND -label:Code-Review\u003dMIN"
        },
        "overrideExpression": {},
        "allowOverrideInChildProjects": false
      },
      "applicabilityExpressionResult": {},
      "submittabilityExpressionResult": {
        "value": {"expression":{"expressionString":"label:Code-Review=MAX AND -label:Code-Review=MIN"},"status":"FAIL","errorMessage":{"value":null},"passingAtoms":[],"failingAtoms":["label:Code-Review=MAX","label:Code-Review=MIN"]}
      },
      "overrideExpressionResult": {},
      "patchSetCommitId": "0bc97bc0bfa30241d7d025ccdea4dc4be788d6f9",
      "legacy": {
        "value": false
      },
      "forced": {},
      "hidden": {}
    },
    {
      "submitRequirement": {
        "name": "Works",
        "description": {
          "value": "Make sure it works. A minimum vote is blocking."
        },
        "applicabilityExpression": {},
        "submittabilityExpression": {
          "expressionString": "label:Works\u003dMAX AND -label:Works\u003dMIN"
        },
        "overrideExpression": {
          "value": {
            "expressionString": "label:Works\u003d0 AND label:Bypass-Verification\u003dMAX"
          }
        },
        "allowOverrideInChildProjects": true
      },
      "applicabilityExpressionResult": {},
      "submittabilityExpressionResult": {
        "value": {"expression":{"expressionString":"label:Works=MAX AND -label:Works=MIN"},"status":"FAIL","errorMessage":{"value":null},"passingAtoms":[],"failingAtoms":["label:Works=MAX","label:Works=MIN"]}
      },
      "overrideExpressionResult": {
        "value": {"expression":{"expressionString":"label:Works=0 AND label:Bypass-Verification=MAX"},"status":"FAIL","errorMessage":{"value":null},"passingAtoms":["label:Works=0"],"failingAtoms":["label:Bypass-Verification=MAX"]}
      },
      "patchSetCommitId": "0bc97bc0bfa30241d7d025ccdea4dc4be788d6f9",
      "legacy": {
        "value": false
      },
      "forced": {},
      "hidden": {}
    }
  ]
}